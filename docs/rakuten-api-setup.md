# 楽天ウェブサービス APIキー取得ガイド

## 1. 楽天ウェブサービスへの登録

### 手順
1. [楽天ウェブサービス](https://webservice.rakuten.co.jp/)にアクセス
2. 「新規アプリ登録」をクリック
3. 楽天会員でログイン（アカウントがない場合は新規作成）
4. アプリケーション情報を入力：
   - アプリ名: `ヘルスケア食材アプリ`
   - アプリURL: `https://your-domain.com`（本番環境のURL）
   - アプリの説明: `病気・症状に効果的な食材とレシピを提供するWebアプリケーション`
   - 連絡先メールアドレス: あなたのメールアドレス

### 利用規約の確認
- 楽天ウェブサービス利用規約に同意
- レシピAPIの利用規約に同意

## 2. APIキーの取得

登録完了後、以下の情報が提供されます：
- **アプリケーションID**: これがAPIキーとして使用されます
- **アフィリエイトID**: （オプション）

## 3. 利用可能なAPI

### 楽天レシピAPI
- **レシピカテゴリリスト**: `/Recipe/CategoryList/20170426`
- **レシピランキング**: `/Recipe/CategoryRanking/20170426`

### リクエスト制限
- 1日あたり: 10,000リクエスト
- 1秒あたり: 5リクエスト

## 4. 環境変数の設定

### 開発環境 (.env.local)
```bash
RAKUTEN_APPLICATION_ID=your_actual_application_id_here
```

### 本番環境
デプロイ先のプラットフォームに応じて環境変数を設定：

#### Vercel
```bash
vercel env add RAKUTEN_APPLICATION_ID
```

#### Netlify
Netlify管理画面 → Site settings → Environment variables

#### AWS/Azure/GCP
各クラウドプロバイダーの環境変数設定機能を使用

## 5. セキュリティ注意事項

- APIキーは絶対にクライアントサイドで使用しない
- GitHubなどのパブリックリポジトリにコミットしない
- 定期的にAPIキーをローテーションする
- 不要になったアプリケーションは削除する

## 6. エラーハンドリング

APIキーが無効な場合や制限に達した場合の対処：
- 適切なエラーメッセージの表示
- フォールバック機能（モックデータ）の提供
- ログ記録とモニタリング

## 7. 本番環境での最適化

- キャッシュ戦略の実装
- レート制限の管理
- エラー監視とアラート設定