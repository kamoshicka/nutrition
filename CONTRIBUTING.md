# コントリビューションガイド

ヘルスケア食材アプリへのコントリビューションをありがとうございます！このガイドでは、プロジェクトに貢献する方法について説明します。

## 🚀 開発環境のセットアップ

### 前提条件
- Node.js 18.x 以上
- npm 9.x 以上
- Git

### セットアップ手順
1. リポジトリをフォーク
2. ローカルにクローン
   ```bash
   git clone https://github.com/your-username/cookcare.git
   cd cookcare
   ```
3. 依存関係をインストール
   ```bash
   npm install
   ```
4. 環境変数を設定
   ```bash
   cp .env.example .env.local
   # .env.localを編集して必要な値を設定
   ```
5. 開発サーバーを起動
   ```bash
   npm run dev
   ```

## 📝 コントリビューションの流れ

### 1. Issue の確認・作成
- 既存のIssueを確認し、重複がないかチェック
- 新しい機能やバグ修正の場合は、まずIssueを作成
- Issue テンプレートに従って詳細を記載

### 2. ブランチの作成
```bash
# 最新のmainブランチから作業ブランチを作成
git checkout main
git pull origin main
git checkout -b feature/your-feature-name
```

### ブランチ命名規則
- `feature/機能名` - 新機能の追加
- `fix/修正内容` - バグ修正
- `docs/更新内容` - ドキュメント更新
- `refactor/リファクタリング内容` - リファクタリング
- `test/テスト内容` - テストの追加・修正

### 3. 開発・テスト
```bash
# コードの品質チェック
npm run lint

# 型チェック
npx tsc --noEmit

# ユニットテスト
npm test

# E2Eテスト
npm run e2e:headless

# アクセシビリティテスト
npm run check-a11y
```

### 4. コミット
```bash
# Conventional Commits形式でコミット
git commit -m "feat: add new food search functionality"
git commit -m "fix: resolve recipe loading issue"
git commit -m "docs: update API documentation"
```

### コミットメッセージ規則
- `feat:` - 新機能
- `fix:` - バグ修正
- `docs:` - ドキュメント更新
- `style:` - コードスタイルの変更
- `refactor:` - リファクタリング
- `test:` - テストの追加・修正
- `chore:` - その他の変更

### 5. プルリクエスト
1. 変更をプッシュ
   ```bash
   git push origin feature/your-feature-name
   ```
2. GitHubでプルリクエストを作成
3. PRテンプレートに従って詳細を記載
4. レビューを待つ

## 🧪 テストガイドライン

### ユニットテスト
- 新しい機能には必ずテストを追加
- テストカバレッジは80%以上を維持
- `src/**/__tests__/` ディレクトリにテストファイルを配置

### E2Eテスト
- 主要なユーザーフローをカバー
- `cypress/e2e/` ディレクトリにテストファイルを配置
- 新しいページや機能には対応するE2Eテストを追加

### アクセシビリティテスト
- 新しいUIコンポーネントにはa11yテストを追加
- WCAG 2.1 AA準拠を確認

## 📋 コーディング規約

### TypeScript
- 厳密な型チェックを有効にする
- `any` 型の使用は避ける
- インターフェースと型エイリアスを適切に使い分ける

### React
- 関数コンポーネントを使用
- カスタムフックで状態ロジックを分離
- propsの型定義を必須とする

### CSS/Tailwind
- Tailwind CSSのユーティリティクラスを優先
- カスタムCSSは最小限に抑える
- レスポンシブデザインを考慮

### ファイル構成
```
src/
├── app/                 # Next.js App Router
├── components/          # 再利用可能なコンポーネント
│   └── ui/             # UIコンポーネント
├── lib/                # ユーティリティ関数
├── types/              # 型定義
└── data/               # 静的データ
```

## 🔍 コードレビュー

### レビュー観点
- 機能要件を満たしているか
- コードの品質と可読性
- テストの網羅性
- パフォーマンスへの影響
- セキュリティ上の問題
- アクセシビリティの考慮

### レビュー後の対応
- フィードバックに対して建設的に対応
- 必要に応じて追加のコミットを作成
- 承認後にマージ

## 🐛 バグレポート

### バグレポートに含める情報
- 問題の詳細な説明
- 再現手順
- 期待される動作
- 実際の動作
- 環境情報（OS、ブラウザ、Node.jsバージョンなど）
- スクリーンショットやエラーログ

### バグレポートテンプレート
```markdown
## 問題の説明
[問題の詳細な説明]

## 再現手順
1. [手順1]
2. [手順2]
3. [手順3]

## 期待される動作
[期待される動作の説明]

## 実際の動作
[実際の動作の説明]

## 環境
- OS: [例: Windows 11]
- ブラウザ: [例: Chrome 120.0]
- Node.js: [例: 20.10.0]

## 追加情報
[スクリーンショット、エラーログなど]
```

## 💡 機能要望

### 機能要望に含める情報
- 機能の詳細な説明
- 使用ケース
- 期待される利益
- 実装の提案（あれば）

## 📚 ドキュメント

### ドキュメント更新
- 新機能にはドキュメントの更新が必要
- APIの変更は必ずドキュメントに反映
- README、コメント、型定義を最新に保つ

### ドキュメント構成
- `README.md` - プロジェクト概要
- `docs/` - 詳細ドキュメント
- コード内コメント - 複雑なロジックの説明

## 🤝 コミュニティ

### コミュニケーション
- 質問や議論はGitHub Discussionsを使用
- バグレポートや機能要望はGitHub Issuesを使用
- 建設的で敬意のあるコミュニケーションを心がける

### ヘルプ
- 困ったときは遠慮なく質問してください
- メンテナーや他のコントリビューターがサポートします

## 📄 ライセンス

このプロジェクトに貢献することで、あなたの貢献がMITライセンスの下で公開されることに同意したものとみなされます。

---

ご質問やご不明な点がございましたら、お気軽にIssueを作成してください。皆様のコントリビューションをお待ちしています！